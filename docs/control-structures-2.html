<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Control Structures (2) | Introduction to Programming with R</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Control Structures (2) | Introduction to Programming with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Control Structures (2) | Introduction to Programming with R" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Reto Stauffer, Thorsten Simon" />


<meta name="date" content="2019-09-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="control-structures-1.html"/>
<link rel="next" href="matrices.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#programming"><i class="fa fa-check"></i><b>1.1</b> Programming</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#why-not-natural-languages"><i class="fa fa-check"></i><b>1.2</b> Why not Natural Languages?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#history-of-programming"><i class="fa fa-check"></i><b>1.3</b> History of Programming</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#number-of-languages"><i class="fa fa-check"></i><b>1.4</b> Number of Languages</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#the-r-programming-language"><i class="fa fa-check"></i><b>1.5</b> The <em>R</em> Programming Language</a><ul>
<li class="chapter" data-level="1.5.1" data-path="introduction.html"><a href="introduction.html#what-is-r"><i class="fa fa-check"></i><b>1.5.1</b> What is <em>R</em>?</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction.html"><a href="introduction.html#open-science"><i class="fa fa-check"></i><b>1.5.2</b> Open Science</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction.html"><a href="introduction.html#r-on-the-job-market"><i class="fa fa-check"></i><b>1.5.3</b> <em>R</em> on the job market</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#the-r-ecosystem"><i class="fa fa-check"></i><b>1.6</b> The <em>R</em> Ecosystem</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#examples"><i class="fa fa-check"></i><b>1.7</b> Examples</a><ul>
<li class="chapter" data-level="1.7.1" data-path="introduction.html"><a href="introduction.html#empirical-mean-and-quartiles"><i class="fa fa-check"></i><b>1.7.1</b> Empirical Mean and Quartiles</a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction.html"><a href="introduction.html#statistical-modeling"><i class="fa fa-check"></i><b>1.7.2</b> Statistical Modeling</a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction.html"><a href="introduction.html#spatial-data"><i class="fa fa-check"></i><b>1.7.3</b> Spatial Data</a></li>
<li class="chapter" data-level="1.7.4" data-path="introduction.html"><a href="introduction.html#geographical-data"><i class="fa fa-check"></i><b>1.7.4</b> Geographical Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#interfaces-and-development-environments-ide"><i class="fa fa-check"></i><b>2.1</b> Interfaces and Development Environments (IDE)</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#interactive-examples"><i class="fa fa-check"></i><b>2.2</b> Interactive Examples</a><ul>
<li class="chapter" data-level="2.2.1" data-path="installation.html"><a href="installation.html#r-as-a-basic-calculator"><i class="fa fa-check"></i><b>2.2.1</b> R as a basic calculator</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-help.html"><a href="getting-help.html"><i class="fa fa-check"></i><b>3</b> Getting Help</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-help.html"><a href="getting-help.html#accessing-r-documentationhelp-pages"><i class="fa fa-check"></i><b>3.1</b> Accessing R documentation/help pages</a></li>
<li class="chapter" data-level="3.2" data-path="getting-help.html"><a href="getting-help.html#package-documentation-and-vignettes"><i class="fa fa-check"></i><b>3.2</b> Package documentation and vignettes</a></li>
<li class="chapter" data-level="3.3" data-path="getting-help.html"><a href="getting-help.html#websites"><i class="fa fa-check"></i><b>3.3</b> Websites</a></li>
<li class="chapter" data-level="3.4" data-path="getting-help.html"><a href="getting-help.html#ask-the-community"><i class="fa fa-check"></i><b>3.4</b> Ask the community</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html"><i class="fa fa-check"></i><b>4</b> Nuts and Bolts</a><ul>
<li class="chapter" data-level="4.1" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#atomic-classes"><i class="fa fa-check"></i><b>4.1</b> Atomic classes</a><ul>
<li class="chapter" data-level="4.1.1" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#know-the-basics"><i class="fa fa-check"></i><b>4.1.1</b> Know the basics!</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#input-and-output"><i class="fa fa-check"></i><b>4.2</b> Input and Output</a></li>
<li class="chapter" data-level="4.3" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#atomic-classes-1"><i class="fa fa-check"></i><b>4.3</b> Atomic Classes</a><ul>
<li class="chapter" data-level="4.3.1" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#double"><i class="fa fa-check"></i><b>4.3.1</b> Double</a></li>
<li class="chapter" data-level="4.3.2" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#integers"><i class="fa fa-check"></i><b>4.3.2</b> Integers</a></li>
<li class="chapter" data-level="4.3.3" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#characters"><i class="fa fa-check"></i><b>4.3.3</b> Characters</a></li>
<li class="chapter" data-level="4.3.4" data-path="nuts-and-bolts.html"><a href="nuts-and-bolts.html#checking-classes"><i class="fa fa-check"></i><b>4.3.4</b> Checking classes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>5</b> Vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="vectors.html"><a href="vectors.html#create-vectors"><i class="fa fa-check"></i><b>5.1</b> Create Vectors</a></li>
<li class="chapter" data-level="5.2" data-path="vectors.html"><a href="vectors.html#vectors-1"><i class="fa fa-check"></i><b>5.2</b> Vectors</a></li>
<li class="chapter" data-level="5.3" data-path="vectors.html"><a href="vectors.html#missing-values"><i class="fa fa-check"></i><b>5.3</b> Missing values</a></li>
<li class="chapter" data-level="5.4" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>5.4</b> Coercion</a></li>
<li class="chapter" data-level="5.5" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>5.5</b> Attributes</a></li>
<li class="chapter" data-level="5.6" data-path="vectors.html"><a href="vectors.html#vector-attributes"><i class="fa fa-check"></i><b>5.6</b> Vector Attributes</a></li>
<li class="chapter" data-level="5.7" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>5.7</b> Vector Subsetting</a><ul>
<li class="chapter" data-level="5.7.1" data-path="vectors.html"><a href="vectors.html#subsetting-by-indizes"><i class="fa fa-check"></i><b>5.7.1</b> Subsetting by indizes</a></li>
<li class="chapter" data-level="5.7.2" data-path="vectors.html"><a href="vectors.html#subsetting-by-name"><i class="fa fa-check"></i><b>5.7.2</b> Subsetting by name</a></li>
<li class="chapter" data-level="5.7.3" data-path="vectors.html"><a href="vectors.html#subsetting-by-logical-vectors"><i class="fa fa-check"></i><b>5.7.3</b> Subsetting by logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="vectors.html"><a href="vectors.html#relational-and-logical-operators"><i class="fa fa-check"></i><b>5.8</b> Relational and Logical Operators</a><ul>
<li class="chapter" data-level="5.8.1" data-path="vectors.html"><a href="vectors.html#rational-operators"><i class="fa fa-check"></i><b>5.8.1</b> Rational Operators</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="vectors.html"><a href="vectors.html#practical-session"><i class="fa fa-check"></i><b>5.9</b> Practical Session</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html"><i class="fa fa-check"></i><b>6</b> Functions and mathematical operators</a><ul>
<li class="chapter" data-level="6.1" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#functions"><i class="fa fa-check"></i><b>6.1</b> Functions</a></li>
<li class="chapter" data-level="6.2" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#when-should-i-use-functions"><i class="fa fa-check"></i><b>6.2</b> When should I use functions?</a></li>
<li class="chapter" data-level="6.3" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#the-structure-of-functions"><i class="fa fa-check"></i><b>6.3</b> The structure of functions</a></li>
<li class="chapter" data-level="6.4" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#functions-in-r"><i class="fa fa-check"></i><b>6.4</b> Functions in <em>R</em></a></li>
<li class="chapter" data-level="6.5" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#calling-functions"><i class="fa fa-check"></i><b>6.5</b> Calling functions</a></li>
<li class="chapter" data-level="6.6" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#naming-functions"><i class="fa fa-check"></i><b>6.6</b> Naming functions</a></li>
<li class="chapter" data-level="6.7" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#functions-in-real-life"><i class="fa fa-check"></i><b>6.7</b> Functions In Real Life</a></li>
<li class="chapter" data-level="6.8" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#declare-functions-in-r"><i class="fa fa-check"></i><b>6.8</b> Declare Functions in <em>R</em></a></li>
<li class="chapter" data-level="6.9" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#the-null-value-in-r"><i class="fa fa-check"></i><b>6.9</b> The NULL value in <em>R</em></a></li>
<li class="chapter" data-level="6.10" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#back-to-functions"><i class="fa fa-check"></i><b>6.10</b> Back to functions</a><ul>
<li class="chapter" data-level="6.10.1" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#multiple-input-arguments"><i class="fa fa-check"></i><b>6.10.1</b> Multiple input arguments</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#practical-session-1"><i class="fa fa-check"></i><b>6.11</b> Practical Session</a><ul>
<li class="chapter" data-level="6.11.1" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#exercise-1"><i class="fa fa-check"></i><b>6.11.1</b> Exercise 1</a></li>
<li class="chapter" data-level="6.11.2" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#exercise-2"><i class="fa fa-check"></i><b>6.11.2</b> Exercise 2</a></li>
<li class="chapter" data-level="6.11.3" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#exercise-3"><i class="fa fa-check"></i><b>6.11.3</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#function-recap"><i class="fa fa-check"></i><b>6.12</b> Function Recap</a></li>
<li class="chapter" data-level="6.13" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#developing-functions"><i class="fa fa-check"></i><b>6.13</b> Developing Functions</a><ul>
<li class="chapter" data-level="6.13.1" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#develop-functions-in-steps"><i class="fa fa-check"></i><b>6.13.1</b> Develop functions in steps</a></li>
<li class="chapter" data-level="6.13.2" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#step-2-pack-parts-of-your-code-into-a-function"><i class="fa fa-check"></i><b>6.13.2</b> Step 2: pack parts of your code into a function</a></li>
<li class="chapter" data-level="6.13.3" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#step-3-adjust-your-function"><i class="fa fa-check"></i><b>6.13.3</b> Step 3: adjust your function</a></li>
</ul></li>
<li class="chapter" data-level="6.14" data-path="functions-and-mathematical-operators.html"><a href="functions-and-mathematical-operators.html#advanced-use-script-files"><i class="fa fa-check"></i><b>6.14</b> Advanced: use script files</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i><b>7</b> Style guide</a><ul>
<li class="chapter" data-level="7.0.1" data-path="style-guide.html"><a href="style-guide.html#what-is-a-coding-style"><i class="fa fa-check"></i><b>7.0.1</b> What is a coding style?</a></li>
<li class="chapter" data-level="7.0.2" data-path="style-guide.html"><a href="style-guide.html#special-characters"><i class="fa fa-check"></i><b>7.0.2</b> Special characters</a></li>
<li class="chapter" data-level="7.0.3" data-path="style-guide.html"><a href="style-guide.html#language"><i class="fa fa-check"></i><b>7.0.3</b> Language</a></li>
<li class="chapter" data-level="7.0.4" data-path="style-guide.html"><a href="style-guide.html#script-file-names"><i class="fa fa-check"></i><b>7.0.4</b> Script file names</a></li>
<li class="chapter" data-level="7.0.5" data-path="style-guide.html"><a href="style-guide.html#object-names"><i class="fa fa-check"></i><b>7.0.5</b> Object names</a></li>
<li class="chapter" data-level="7.0.6" data-path="style-guide.html"><a href="style-guide.html#spaces-infix-operators"><i class="fa fa-check"></i><b>7.0.6</b> Spaces: infix operators</a></li>
<li class="chapter" data-level="7.0.7" data-path="style-guide.html"><a href="style-guide.html#spaces-colons"><i class="fa fa-check"></i><b>7.0.7</b> Spaces: colons</a></li>
<li class="chapter" data-level="7.0.8" data-path="style-guide.html"><a href="style-guide.html#spaces-multiple-spaces"><i class="fa fa-check"></i><b>7.0.8</b> Spaces: multiple spaces</a></li>
<li class="chapter" data-level="7.0.9" data-path="style-guide.html"><a href="style-guide.html#spaces-brackets"><i class="fa fa-check"></i><b>7.0.9</b> Spaces: brackets</a></li>
<li class="chapter" data-level="7.0.10" data-path="style-guide.html"><a href="style-guide.html#spaces-commas"><i class="fa fa-check"></i><b>7.0.10</b> Spaces: commas</a></li>
<li class="chapter" data-level="7.0.11" data-path="style-guide.html"><a href="style-guide.html#openingclosing-brackets"><i class="fa fa-check"></i><b>7.0.11</b> Opening/closing brackets</a></li>
<li class="chapter" data-level="7.0.12" data-path="style-guide.html"><a href="style-guide.html#indention"><i class="fa fa-check"></i><b>7.0.12</b> Indention</a></li>
<li class="chapter" data-level="7.0.13" data-path="style-guide.html"><a href="style-guide.html#explicit-return"><i class="fa fa-check"></i><b>7.0.13</b> Explicit return</a></li>
<li class="chapter" data-level="7.0.14" data-path="style-guide.html"><a href="style-guide.html#line-breaks"><i class="fa fa-check"></i><b>7.0.14</b> Line breaks</a></li>
<li class="chapter" data-level="7.0.15" data-path="style-guide.html"><a href="style-guide.html#nested-indention"><i class="fa fa-check"></i><b>7.0.15</b> Nested indention</a></li>
<li class="chapter" data-level="7.0.16" data-path="style-guide.html"><a href="style-guide.html#object-assignment"><i class="fa fa-check"></i><b>7.0.16</b> Object assignment</a></li>
<li class="chapter" data-level="7.0.17" data-path="style-guide.html"><a href="style-guide.html#comments"><i class="fa fa-check"></i><b>7.0.17</b> Comments</a></li>
<li class="chapter" data-level="7.0.18" data-path="style-guide.html"><a href="style-guide.html#all-together"><i class="fa fa-check"></i><b>7.0.18</b> All together</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="control-structures-1.html"><a href="control-structures-1.html"><i class="fa fa-check"></i><b>8</b> Control Structures (1)</a><ul>
<li class="chapter" data-level="8.1" data-path="control-structures-1.html"><a href="control-structures-1.html#logical-operators"><i class="fa fa-check"></i><b>8.1</b> Logical Operators</a></li>
<li class="chapter" data-level="8.2" data-path="control-structures-1.html"><a href="control-structures-1.html#if-conditions"><i class="fa fa-check"></i><b>8.2</b> If conditions</a><ul>
<li class="chapter" data-level="8.2.1" data-path="control-structures-1.html"><a href="control-structures-1.html#conditional-return"><i class="fa fa-check"></i><b>8.2.1</b> Conditional return</a></li>
<li class="chapter" data-level="8.2.2" data-path="control-structures-1.html"><a href="control-structures-1.html#stop-execution"><i class="fa fa-check"></i><b>8.2.2</b> Stop execution</a></li>
<li class="chapter" data-level="8.2.3" data-path="control-structures-1.html"><a href="control-structures-1.html#another-example"><i class="fa fa-check"></i><b>8.2.3</b> Another example</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="control-structures-1.html"><a href="control-structures-1.html#if-else-conditions"><i class="fa fa-check"></i><b>8.3</b> If else conditions</a><ul>
<li class="chapter" data-level="8.3.1" data-path="control-structures-1.html"><a href="control-structures-1.html#multiple-conditions"><i class="fa fa-check"></i><b>8.3.1</b> Multiple conditions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="control-structures-2.html"><a href="control-structures-2.html"><i class="fa fa-check"></i><b>9</b> Control Structures (2)</a><ul>
<li class="chapter" data-level="9.1" data-path="control-structures-2.html"><a href="control-structures-2.html#control-structures"><i class="fa fa-check"></i><b>9.1</b> Control Structures</a></li>
<li class="chapter" data-level="9.2" data-path="control-structures-2.html"><a href="control-structures-2.html#for-loops"><i class="fa fa-check"></i><b>9.2</b> <code>for</code> loops</a></li>
<li class="chapter" data-level="9.3" data-path="control-structures-2.html"><a href="control-structures-2.html#basic-usage"><i class="fa fa-check"></i><b>9.3</b> Basic usage</a></li>
<li class="chapter" data-level="9.4" data-path="control-structures-2.html"><a href="control-structures-2.html#for-loops-over-vectors"><i class="fa fa-check"></i><b>9.4</b> For loops over vectors</a></li>
<li class="chapter" data-level="9.5" data-path="control-structures-2.html"><a href="control-structures-2.html#combine-loops-and-ifelse-conditions"><i class="fa fa-check"></i><b>9.5</b> Combine loops and if/else conditions</a></li>
<li class="chapter" data-level="9.6" data-path="control-structures-2.html"><a href="control-structures-2.html#use-next-and-break"><i class="fa fa-check"></i><b>9.6</b> Use next and break</a><ul>
<li class="chapter" data-level="9.6.1" data-path="control-structures-2.html"><a href="control-structures-2.html#how-to-use-next"><i class="fa fa-check"></i><b>9.6.1</b> How to use next</a></li>
<li class="chapter" data-level="9.6.2" data-path="control-structures-2.html"><a href="control-structures-2.html#how-to-use-break"><i class="fa fa-check"></i><b>9.6.2</b> How to use break</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="control-structures-2.html"><a href="control-structures-2.html#practical-exercises"><i class="fa fa-check"></i><b>9.7</b> Practical exercises</a></li>
<li class="chapter" data-level="9.8" data-path="control-structures-2.html"><a href="control-structures-2.html#looping-over-vector-indices"><i class="fa fa-check"></i><b>9.8</b> Looping over vector indices</a></li>
<li class="chapter" data-level="9.9" data-path="control-structures-2.html"><a href="control-structures-2.html#using-next-and-break"><i class="fa fa-check"></i><b>9.9</b> Using next and break</a></li>
<li class="chapter" data-level="9.10" data-path="control-structures-2.html"><a href="control-structures-2.html#while-loops"><i class="fa fa-check"></i><b>9.10</b> while loops</a></li>
<li class="chapter" data-level="9.11" data-path="control-structures-2.html"><a href="control-structures-2.html#store-interim-results"><i class="fa fa-check"></i><b>9.11</b> Store Interim Results</a></li>
<li class="chapter" data-level="9.12" data-path="control-structures-2.html"><a href="control-structures-2.html#practical-session-2"><i class="fa fa-check"></i><b>9.12</b> Practical Session</a><ul>
<li class="chapter" data-level="9.12.1" data-path="control-structures-2.html"><a href="control-structures-2.html#exercise-1-arithmetic-mean"><i class="fa fa-check"></i><b>9.12.1</b> Exercise 1: Arithmetic mean</a></li>
<li class="chapter" data-level="9.12.2" data-path="control-structures-2.html"><a href="control-structures-2.html#exercise-2-conditional-for-loop"><i class="fa fa-check"></i><b>9.12.2</b> Exercise 2: Conditional for loop</a></li>
<li class="chapter" data-level="9.12.3" data-path="control-structures-2.html"><a href="control-structures-2.html#exercise-3-factorial"><i class="fa fa-check"></i><b>9.12.3</b> Exercise 3: Factorial</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="matrices.html"><a href="matrices.html"><i class="fa fa-check"></i><b>10</b> Matrices</a><ul>
<li class="chapter" data-level="10.1" data-path="matrices.html"><a href="matrices.html#matrices-in-r"><i class="fa fa-check"></i><b>10.1</b> Matrices in <em>R</em></a></li>
<li class="chapter" data-level="10.2" data-path="matrices.html"><a href="matrices.html#create-a-matrix"><i class="fa fa-check"></i><b>10.2</b> Create a matrix</a></li>
<li class="chapter" data-level="10.3" data-path="matrices.html"><a href="matrices.html#fill-by-rowcolumn"><i class="fa fa-check"></i><b>10.3</b> Fill by row/column</a></li>
<li class="chapter" data-level="10.4" data-path="matrices.html"><a href="matrices.html#column-binding-and-row-binding-vectors"><i class="fa fa-check"></i><b>10.4</b> Column-binding and row-binding (vectors)</a></li>
<li class="chapter" data-level="10.5" data-path="matrices.html"><a href="matrices.html#column-binding-and-row-binding-matrices"><i class="fa fa-check"></i><b>10.5</b> Column-binding and row-binding (matrices)</a></li>
<li class="chapter" data-level="10.6" data-path="matrices.html"><a href="matrices.html#matrix-attributes"><i class="fa fa-check"></i><b>10.6</b> Matrix attributes</a></li>
<li class="chapter" data-level="10.7" data-path="matrices.html"><a href="matrices.html#setting-dimension-names"><i class="fa fa-check"></i><b>10.7</b> Setting dimension names (, )</a></li>
<li class="chapter" data-level="10.8" data-path="matrices.html"><a href="matrices.html#set-dimension-names-when-creating-the-object"><i class="fa fa-check"></i><b>10.8</b> Set dimension names when creating the object</a></li>
<li class="chapter" data-level="10.9" data-path="matrices.html"><a href="matrices.html#practical-exercises-part-1"><i class="fa fa-check"></i><b>10.9</b> Practical Exercises (part 1)</a><ul>
<li class="chapter" data-level="10.9.1" data-path="matrices.html"><a href="matrices.html#practical-exercise-2"><i class="fa fa-check"></i><b>10.9.1</b> Practical exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="matrices.html"><a href="matrices.html#subsetting-matrices"><i class="fa fa-check"></i><b>10.10</b> Subsetting matrices</a></li>
<li class="chapter" data-level="10.11" data-path="matrices.html"><a href="matrices.html#subsetting-matrices-with-logical-vectors"><i class="fa fa-check"></i><b>10.11</b> Subsetting matrices with logical vectors</a></li>
<li class="chapter" data-level="10.12" data-path="matrices.html"><a href="matrices.html#subsetting-by-name-1"><i class="fa fa-check"></i><b>10.12</b> Subsetting by name</a></li>
<li class="chapter" data-level="10.13" data-path="matrices.html"><a href="matrices.html#non-existing-elements-in-matrices"><i class="fa fa-check"></i><b>10.13</b> Non-existing elements in matrices</a></li>
<li class="chapter" data-level="10.14" data-path="matrices.html"><a href="matrices.html#the-subset-method"><i class="fa fa-check"></i><b>10.14</b> The subset method</a></li>
<li class="chapter" data-level="10.15" data-path="matrices.html"><a href="matrices.html#matrix-arithmetic"><i class="fa fa-check"></i><b>10.15</b> Matrix Arithmetic</a><ul>
<li class="chapter" data-level="10.15.1" data-path="matrices.html"><a href="matrices.html#matrices-and-scalars"><i class="fa fa-check"></i><b>10.15.1</b> Matrices and scalars</a></li>
<li class="chapter" data-level="10.15.2" data-path="matrices.html"><a href="matrices.html#matrices-and-vectors"><i class="fa fa-check"></i><b>10.15.2</b> Matrices and vectors</a></li>
</ul></li>
<li class="chapter" data-level="10.16" data-path="matrices.html"><a href="matrices.html#further-functions"><i class="fa fa-check"></i><b>10.16</b> Further functions</a></li>
<li class="chapter" data-level="10.17" data-path="matrices.html"><a href="matrices.html#practical-exercises-part-2"><i class="fa fa-check"></i><b>10.17</b> Practical Exercises (part 2)</a><ul>
<li class="chapter" data-level="10.17.1" data-path="matrices.html"><a href="matrices.html#practical-exercise-3"><i class="fa fa-check"></i><b>10.17.1</b> Practical exercise 3</a></li>
<li class="chapter" data-level="10.17.2" data-path="matrices.html"><a href="matrices.html#practical-exercise-4"><i class="fa fa-check"></i><b>10.17.2</b> Practical exercise 4</a></li>
<li class="chapter" data-level="10.17.3" data-path="matrices.html"><a href="matrices.html#practical-exercise-5"><i class="fa fa-check"></i><b>10.17.3</b> Practical exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="10.18" data-path="matrices.html"><a href="matrices.html#typical-examples"><i class="fa fa-check"></i><b>10.18</b> Typical Examples</a><ul>
<li class="chapter" data-level="10.18.1" data-path="matrices.html"><a href="matrices.html#convert-matrix-to-data-frame"><i class="fa fa-check"></i><b>10.18.1</b> Convert matrix to data frame</a></li>
<li class="chapter" data-level="10.18.2" data-path="matrices.html"><a href="matrices.html#convert-data-frame-to-matrix"><i class="fa fa-check"></i><b>10.18.2</b> Convert data frame to matrix</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>11</b> Factors</a><ul>
<li class="chapter" data-level="11.1" data-path="factors.html"><a href="factors.html#practical-exercises-1"><i class="fa fa-check"></i><b>11.1</b> Practical Exercises</a><ul>
<li class="chapter" data-level="11.1.1" data-path="factors.html"><a href="factors.html#practical-exercises-1-1"><i class="fa fa-check"></i><b>11.1.1</b> Practical Exercises 1</a></li>
<li class="chapter" data-level="11.1.2" data-path="factors.html"><a href="factors.html#practical-exercises-2"><i class="fa fa-check"></i><b>11.1.2</b> Practical Exercises 2</a></li>
<li class="chapter" data-level="11.1.3" data-path="factors.html"><a href="factors.html#practical-exercises-3"><i class="fa fa-check"></i><b>11.1.3</b> Practical Exercises 3</a></li>
<li class="chapter" data-level="11.1.4" data-path="factors.html"><a href="factors.html#descriptive-data-analysis"><i class="fa fa-check"></i><b>11.1.4</b> Descriptive Data Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>12</b> Lists</a></li>
<li class="chapter" data-level="13" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>13</b> Data frames</a><ul>
<li class="chapter" data-level="13.1" data-path="data-frames.html"><a href="data-frames.html#convert-objects"><i class="fa fa-check"></i><b>13.1</b> Convert Objects</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sort-order.html"><a href="sort-order.html"><i class="fa fa-check"></i><b>14</b> Sort &amp; Order</a><ul>
<li class="chapter" data-level="14.1" data-path="sort-order.html"><a href="sort-order.html#sorting-a-vector"><i class="fa fa-check"></i><b>14.1</b> Sorting a vector</a></li>
<li class="chapter" data-level="14.2" data-path="sort-order.html"><a href="sort-order.html#order-of-a-vector"><i class="fa fa-check"></i><b>14.2</b> Order of a vector</a></li>
<li class="chapter" data-level="14.3" data-path="sort-order.html"><a href="sort-order.html#sort-to-get-order-order-to-sort"><i class="fa fa-check"></i><b>14.3</b> Sort to get order, order to sort</a><ul>
<li class="chapter" data-level="14.3.1" data-path="sort-order.html"><a href="sort-order.html#sort-to-get-order"><i class="fa fa-check"></i><b>14.3.1</b> Sort to get order</a></li>
<li class="chapter" data-level="14.3.2" data-path="sort-order.html"><a href="sort-order.html#order-to-sort"><i class="fa fa-check"></i><b>14.3.2</b> Order to sort</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="sort-order.html"><a href="sort-order.html#sort-a-matrix"><i class="fa fa-check"></i><b>14.4</b> Sort a matrix</a></li>
<li class="chapter" data-level="14.5" data-path="sort-order.html"><a href="sort-order.html#sorting-a-data.frame"><i class="fa fa-check"></i><b>14.5</b> Sorting a data.frame</a></li>
<li class="chapter" data-level="14.6" data-path="sort-order.html"><a href="sort-order.html#practical-exercise"><i class="fa fa-check"></i><b>14.6</b> Practical Exercise</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Programming with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-structures-2" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Control Structures (2)</h1>
<p>TODO this is a copy of the one above, at leas in large parts. Merge.</p>
<p>Graphical representation:</p>
<div style="text-align: center;">
<p><img src="images/03/03_controlstructure_ifelse.png" style="with: 50%;"><br /> Simple representation of an if-else control structure.</p>
</div>
<div style="text-align: center;">
<p><img src="images/03/03_controlstructure_elseif.png" style="with: 50%;"><br > Simple representation of an if, else if, else control structure.</p>
</div>
<div id="control-structures" class="section level2">
<h2><span class="header-section-number">9.1</span> Control Structures</h2>
<p>Last time we have been looking at if conditions which allow you to conditionally execute code. This time we will have a quick look at <code>for</code>, <code>while</code>, and <code>repeat</code> loops and the <code>break</code>, <code>next</code>, and <code>return</code> keywords/functions.</p>
<ul>
<li><code>if</code> and : test a condition and act on it</li>
<li><code>for</code>: loop over a <em>fixed number</em> of items</li>
<li><code>while</code>: execute loop <code>while</code> a condition is <code>TRUE</code></li>
<li><code>repeat</code>: an infinite loop (until <code>break</code> stops it)</li>
<li><code>break</code>: stop/break execution of a loop</li>
<li><code>next</code>: skip iteration, continue loop</li>
<li><code>return</code>: exit a function (returns result)</li>
</ul>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">9.2</span> <code>for</code> loops</h2>
<p><code>for</code> loops are used frequently when writing scripts to execute a set of instructions multiple times e.g.:</p>
<ul>
<li>read a set of input files</li>
<li>do calculations for a set of values</li>
<li>search for specific data</li>
<li>…</li>
</ul>
</div>
<div id="basic-usage" class="section level2">
<h2><span class="header-section-number">9.3</span> Basic usage</h2>
<ul>
<li>Structure: <code>for (&lt;value&gt; in &lt;values&gt;) { &lt;action&gt; }</code></li>
<li><code>&lt;value&gt; is the current ``loop object'',</code><values>` a set of (different) values over which one would like to iterate</li>
<li>the <code>&lt;action&gt;</code> is executed for each <code>&lt;value&gt;</code> in <code>&lt;values&gt;</code></li>
<li><code>&lt;values&gt;</code> can be vectors or lists, typically vectors are used (integer vectors, numeric vectors, or character vectors)</li>
<li><strong>Note:</strong> <em>R</em> has no for-loop constructor like <code>for (i = 1; i &lt;= n; i++) { ... }</code> as many other programming languages do. The <em>R</em> equivalent would is <code>for (i in 1:n) { ... }</code></li>
</ul>
</div>
<div id="for-loops-over-vectors" class="section level2">
<h2><span class="header-section-number">9.4</span> For loops over vectors</h2>
<p>The following for loop iterates over an integer vector <code>c(1L, 2L, 3L)</code> starting with <code>i = 1L</code> and iterates over <code>i = 2L</code> and <code>i = 3L</code>. The <code>for</code> loop ends after iterating over all elements in the vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># For loop over an integer</span>
<span class="co"># vector with 3 elements</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(1L, 2L, 3L)) {
  <span class="kw">print</span>(i)
}</code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3</code></pre>
<p>In <em>R</em> we can also use a character vector to loop over. E.g., looping over a set of names (character vector <code>c(&quot;Reto&quot;, &quot;Ben&quot;, &quot;Lea&quot;)</code>, the loop object here is called <code>name</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># For loop over a character</span>
<span class="co"># vector with 3 elements</span>
<span class="cf">for</span> (name <span class="cf">in</span> <span class="kw">c</span>(<span class="st">&quot;Reto&quot;</span>, <span class="st">&quot;Ben&quot;</span>, <span class="st">&quot;Lea&quot;</span>)) {
  <span class="kw">print</span>(name)
}</code></pre></div>
<pre><code>## [1] &quot;Reto&quot;
## [1] &quot;Ben&quot;
## [1] &quot;Lea&quot;</code></pre>
<p>Instead of writing <code>for (i in c(1L, 2L, 3L)) ...</code> we can also loop over an existing object. In the example below we create an integer vector <code>x &lt;- 1:5</code> which we use in the for loop.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define the vector over</span>
<span class="co"># which we will loop</span>
x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># For loop</span>
<span class="cf">for</span> (i <span class="cf">in</span> x) {
  <span class="kw">print</span>(i)
}</code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>The very same yields for character vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define the vector over</span>
<span class="co"># which we will loop</span>
participants &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Reto&quot;</span>, <span class="st">&quot;Ben&quot;</span>, <span class="st">&quot;Lea&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># For loop</span>
<span class="cf">for</span> (name <span class="cf">in</span> participants) {
  <span class="kw">print</span>(name)
}</code></pre></div>
<pre><code>## [1] &quot;Reto&quot;
## [1] &quot;Ben&quot;
## [1] &quot;Lea&quot;</code></pre>
<p>We can also define a <code>for</code> loop over a “reverse” sequence (a decreasing sequence), e.g., a sequence <code>3</code>, <code>2</code>, <code>1</code> by either defining a decreasing sequence <code>3:1</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Looping &quot;backwards&quot;</span>
<span class="co"># (decreasing integers)</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">3</span><span class="op">:</span><span class="dv">1</span>) { <span class="kw">print</span>(i) }</code></pre></div>
<pre><code>## [1] 3
## [1] 2
## [1] 1</code></pre>
<p>or by using the <code>rev(...)</code> (reverse) function. The reverse function simply reverses all elements. Thus, <code>rev(c(1L, 2L, 3L))</code> is identical to <code>c(3L, 2L, 1L)</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Or using &quot;rev&quot; (reverse)</span>
x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">rev</span>(x)) { <span class="kw">print</span>(i) }</code></pre></div>
<pre><code>## [1] 3
## [1] 2
## [1] 1</code></pre>
<p>The very same yields for character vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">participants &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Reto&quot;</span>,
                  <span class="st">&quot;Ben&quot;</span>,
                  <span class="st">&quot;Lea&quot;</span>)
<span class="cf">for</span> (name <span class="cf">in</span> <span class="kw">rev</span>(participants)) {
    <span class="kw">print</span>(name)
}</code></pre></div>
<pre><code>## [1] &quot;Lea&quot;
## [1] &quot;Ben&quot;
## [1] &quot;Reto&quot;</code></pre>
<p>Loops can also be nested. Most often this is used in a matrix context (looping over data in a matrix). We will talk about matrices next week!</p>
<p>Frequently used: a nested <code>for</code> loop over two loop indices called <code>i</code> and <code>j</code> (in matrices corresponding to rows and columns).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Nested for loops</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>) {
    <span class="kw">print</span>(<span class="kw">c</span>(i, j))
  }
}</code></pre></div>
<p>The outer <code>for</code> loop iterates over <code>i = c(1L, 2L, 3L)</code>, the inner one over <code>j = c(1L, 2L)</code>. The result is the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Nested for loops</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>) {
    <span class="kw">print</span>(<span class="kw">c</span>(i, j))
  }
}</code></pre></div>
<pre><code>## [1] 1 1
## [1] 1 2
## [1] 2 1
## [1] 2 2
## [1] 3 1
## [1] 3 2</code></pre>
<p>At first, the outer loop sets <code>i = 1L</code> and executes its instructions (the inner <code>for</code> loop). The inner <code>for</code> loop sets <code>j = 1L</code> (thus, the first <code>print</code> prints <code>1 1</code>; <code>i = 1L</code>, <code>j = 1L</code>). As the inner <code>for</code> loop is not yet finished, <code>j</code> will be set to <code>j = 2L</code> and we get the output <code>1 2</code> (<code>i = 1L</code>, <code>j = 2L</code>). After that the inner loop finished, thus we proceed with the outer loop and set <code>i = 2L</code> and, again, execute the instructions (which is the inner <code>for</code> loop). The inner loop now iterates over <code>j = 1L</code> and <code>j = 2L</code> again which gives us the output <code>2 1</code> and <code>2 2</code>. Then, <code>i</code> is set to <code>i = 3</code>, the inner loop is executed once more (gives <code>3 1</code> and <code>3 2</code>). Now the outer loop is finished and the script ends.</p>
</div>
<div id="combine-loops-and-ifelse-conditions" class="section level2">
<h2><span class="header-section-number">9.5</span> Combine loops and if/else conditions</h2>
<p>To create more dynamic loops we can also combine loops (not limited to <code>for</code> loops) with additional control structures such as <code>if</code> statements.</p>
<p>The example below loops over <code>i in 1:n</code> (as <code>n &lt;- 3L</code> it loops over <code>i = 1L</code>, <code>i = 2L</code>, and <code>i = 3L</code>) and, conditional in <code>i</code>, a string is printed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Upper limit for the loop</span>
n &lt;-<span class="st"> </span>3L
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n) {
  <span class="cf">if</span> (i <span class="op">&lt;</span><span class="st"> </span>n) { <span class="kw">print</span>(<span class="st">&quot;ice&quot;</span>) } <span class="cf">else</span> { <span class="kw">print</span>(<span class="st">&quot;baby&quot;</span>) }
}</code></pre></div>
<pre><code>## [1] &quot;ice&quot;
## [1] &quot;ice&quot;
## [1] &quot;baby&quot;</code></pre>
<p>There are special control statements for loops, namely <code>return</code> (only used for loops in functions), <code>next</code>, and <code>break</code>.</p>
</div>
<div id="use-next-and-break" class="section level2">
<h2><span class="header-section-number">9.6</span> Use next and break</h2>
<p><code>next</code> and <code>break</code> are no functions but control statements (simply <code>next</code> or <code>break</code>, not <code>next()</code> or <code>break()</code>).</p>
<ul>
<li><code>next</code> is used to skip one iteration. Whenever called inside a loop, the current iteration of this loop is skipped and the loop continues with the next iteration (<em>but does not stop</em>).</li>
<li>the <code>break</code> statement stops the execution of the loop. Can be used to stop the execution of a loop early.</li>
</ul>
<div id="how-to-use-next" class="section level3">
<h3><span class="header-section-number">9.6.1</span> How to use next</h3>
<p>The following lines show how <code>next</code> can be used in a loop. We have a <code>for</code> loop which iterates over all <code>&lt;var&gt;</code> in <code>&lt;vars&gt;</code> and has an additional if condition. Whenever this condition is <code>TRUE</code>, <code>next</code> is called which skips the current iteration and proceeds with the next one (next <code>&lt;var&gt;</code> in the sequence <code>&lt;vars&gt;</code>).</p>
<pre><code>for (&lt;var&gt; in &lt;vars&gt;) {
  if (&lt;condition) {
      next
  }
}</code></pre>
</div>
<div id="how-to-use-break" class="section level3">
<h3><span class="header-section-number">9.6.2</span> How to use break</h3>
<p>Very similar to the example above we are looping over a set of <code>&lt;var&gt;</code> along <code>&lt;vars&gt;</code>. As soon as the additional if <code>&lt;condition&gt;</code> is <code>TRUE</code>, <code>break</code> will be called. <code>break</code> will immediately stop the iteration no matter at which position of <code>&lt;vars&gt;</code> we are.</p>
<pre><code>for (&lt;var&gt; in &lt;vars&gt;) {
  if (&lt;condition&gt;) {
      break
  }
}</code></pre>
</div>
</div>
<div id="practical-exercises" class="section level2">
<h2><span class="header-section-number">9.7</span> Practical exercises</h2>
<ul>
<li><strong>A:</strong> Write a <code>for</code> loop which iterates over an <strong>integer sequence</strong> <code>from = 1</code> up <code>to = 30</code> and print the loop variable.</li>
<li><strong>B:</strong> Use the same loop as in <strong>A</strong>, but <code>break</code> if loop variable is larger than or equal to 10.</li>
<li><strong>C:</strong> Use the same loop as in <strong>A</strong>, print the loop variable and whether it is odd or even.</li>
<li><strong>D:</strong> Use the same loop as in <strong>A</strong>, skip all odd numbers using <code>next</code>.</li>
</ul>
</div>
<div id="looping-over-vector-indices" class="section level2">
<h2><span class="header-section-number">9.8</span> Looping over vector indices</h2>
<p>Quite often you will loop over a set of indices (e.g., <code>for (i in 1:100)</code>) and use these indices to access data in vectors, lists, matrices, and other objects. If you forgot how vector subsetting by indices work please go trough the “Vector Subsetting” section of Session 02 (Help &amp; Vectors).</p>
<p>As an example: Let’s imagine we have two character vectors of the same length called <code>first_name</code> and <code>last_name</code> containing the names of some individuals. The first element in a vector in <em>R</em> is always index <code>1</code> (not <code>0</code> as in other programming languages), the last element in this example is <code>6</code> as the vectors have a length of 6 (<code>length(first_name)</code> is <code>6</code>). Thus, we can do something like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Two character vectors with a set of names</span>
first_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Lea&quot;</span>,     <span class="st">&quot;Sabine&quot;</span>, <span class="st">&quot;Mario&quot;</span>, <span class="st">&quot;Lea&quot;</span>, <span class="st">&quot;Peter&quot;</span>,   <span class="st">&quot;Max&quot;</span>)
last_name  &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Schmidt&quot;</span>, <span class="st">&quot;Gross&quot;</span>,  <span class="st">&quot;Super&quot;</span>, <span class="st">&quot;Kah&quot;</span>, <span class="st">&quot;Steiner&quot;</span>, <span class="st">&quot;Muster&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop over indizes</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
  <span class="kw">print</span>(first_name[i])
}</code></pre></div>
<pre><code>## [1] &quot;Lea&quot;
## [1] &quot;Sabine&quot;
## [1] &quot;Mario&quot;
## [1] &quot;Lea&quot;
## [1] &quot;Peter&quot;
## [1] &quot;Max&quot;</code></pre>
<p>The <code>for</code> loop iterates over an integer vector (<code>1:6</code>) containing the values <code>1L</code>, <code>2L</code>, …, <code>6L</code> wherefore <code>i = 1L</code> for the first iteration, <code>i = 2L</code> for the second iteration, and so far and so on. Using vector subsetting by index we can now print the <code>i</code>th element of our vector <code>first_name</code> by simply calling <code>print(first_name[i])</code>.</p>
<p>A slightly more useful example (yes, we could solve it without loops) is the following: We will loop over <code>i in 1:6</code> and check if the <code>i</code>th element of the vector <code>first_name</code> is <code>&quot;Lea&quot;</code>. If the condition is <code>TRUE</code> we have found a person called <code>&quot;Lea&quot;</code> and we will print her full name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Two character vectors with a set of names</span>
first_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Lea&quot;</span>,     <span class="st">&quot;Sabine&quot;</span>, <span class="st">&quot;Mario&quot;</span>, <span class="st">&quot;Lea&quot;</span>, <span class="st">&quot;Peter&quot;</span>,   <span class="st">&quot;Max&quot;</span>)
last_name  &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Schmidt&quot;</span>, <span class="st">&quot;Gross&quot;</span>,  <span class="st">&quot;Super&quot;</span>, <span class="st">&quot;Kah&quot;</span>, <span class="st">&quot;Steiner&quot;</span>, <span class="st">&quot;Muster&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop over indizes</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
  <span class="cf">if</span> (first_name[i] <span class="op">==</span><span class="st"> &quot;Lea&quot;</span>) {
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Found a&quot;</span>, first_name[i], last_name[i]))
  }
}</code></pre></div>
<pre><code>## [1] &quot;Found a Lea Schmidt&quot;
## [1] &quot;Found a Lea Kah&quot;</code></pre>
<p>The only thing which is not so nice is that we have hardcoded <code>1:6</code> here. As soon as you would get a new vector of names the script would not work anymore (as you may iterate over the wrong number of elements). Thus, <em>we should try to avoid such hard-coded commands/instructions</em> in our code whenever possible.</p>
<p>There are two options to do so. Most obvious is to replace <code>6</code> by <code>length(first_name)</code>. If you change the length of <code>first_name</code> we will still loop over all elements. Another way in <em>R</em> to do the same is to call the <code>seq_along</code> function. <code>seq_along(x)</code> returns an integer sequence <code>from = 1</code> to <code>to = length(x)</code> (in our case <code>x</code> is our object <code>first_name</code>) and can thus be used for looping over an object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(first_name)     <span class="co"># Use &quot;length(first_name)&quot;</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq_along</span>(first_name)    <span class="co"># Use seq_along</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p>Et voila:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use &quot;length(first_name)&quot; instead of hard-coding 6</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_name)) {
  <span class="cf">if</span> (first_name[i] <span class="op">==</span><span class="st"> &quot;Lea&quot;</span>) {
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Found a&quot;</span>, first_name[i], last_name[i]))
  }
}</code></pre></div>
<pre><code>## [1] &quot;Found a Lea Schmidt&quot;
## [1] &quot;Found a Lea Kah&quot;</code></pre>
</div>
<div id="using-next-and-break" class="section level2">
<h2><span class="header-section-number">9.9</span> Using next and break</h2>
<p>The <code>for</code> loop above prints the name as soon as <code>first_name[i] == &quot;Lea&quot;</code>. We could also program it the other way around and do the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop over indizes</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_name)) {
  <span class="co"># We want to find only &quot;Lea&quot;s</span>
  <span class="cf">if</span> (first_name[i] <span class="op">!=</span><span class="st"> &quot;Lea&quot;</span>) <span class="cf">next</span>
  <span class="co"># Else print</span>
  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Found a&quot;</span>, first_name[i], last_name[i]))
}</code></pre></div>
<pre><code>## [1] &quot;Found a Lea Schmidt&quot;
## [1] &quot;Found a Lea Kah&quot;</code></pre>
<p>As described earlier, <code>next</code> skips the current iteration. In this example we check <code>first_name[i] != &quot;Lea&quot;</code>. If this is <code>TRUE</code> (if this is <em>not a</em> <code>&quot;Lea&quot;</code>) we call <code>next</code> which skips this iteration/person. Thus, the <code>print</code> command is only executed when <code>first_name[i] != &quot;Lea&quot;</code> is <code>FALSE</code>, or in other words, whenever <code>first_name[i] == &quot;Lea&quot;</code>.</p>
<p>An example for the <code>break</code> statement: We still have the same character vectors <code>first_name</code> and <code>last_name</code> and we will find the first person called <code>&quot;Mario&quot;</code>, but only one. To do so we can do the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop over indizes</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_name)) {
  <span class="co"># We want to find only &quot;Lea&quot;s</span>
  <span class="cf">if</span> (first_name[i] <span class="op">==</span><span class="st"> &quot;Mario&quot;</span>) { 
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Found someone called&quot;</span>, last_name[i], first_name[i]))
    <span class="cf">break</span>
  }
  <span class="kw">print</span>(<span class="kw">paste</span>(i, <span class="st">&quot;is no Mario&quot;</span>))
}</code></pre></div>
<pre><code>## [1] &quot;1 is no Mario&quot;
## [1] &quot;2 is no Mario&quot;
## [1] &quot;Found someone called Super Mario&quot;</code></pre>
<p>The <code>for</code> loop is again looping over all elements <code>i in seq_along(first_name)</code> and checks if the element <code>first_name[i]</code> of the current iteration is <code>&quot;Mario&quot;</code>. As soon as the script finds a <code>&quot;Mario&quot;</code> the condition <code>first_name[i] == &quot;Mario&quot;</code> is <code>TRUE</code> and the name of the person is printed. After the <code>print</code> command <code>break</code> is called which immediately stops the <code>for</code> loop execution. Thus, the <code>for</code> loop stops at <code>i = 3</code> as the 3th person is a <code>&quot;Mario&quot;</code>.</p>
</div>
<div id="while-loops" class="section level2">
<h2><span class="header-section-number">9.10</span> while loops</h2>
<p>Another loop constructor is <code>while</code>. <code>while</code> executes a set of instructions while a condition is <code>TRUE</code> (or, until the condition is <code>FALSE</code>).</p>
<p><strong>Basic usage</strong></p>
<ul>
<li>Structure: <code>while (&lt;condition&gt;) { &lt;action&gt; }</code></li>
<li>The <code>&lt;condition&gt;</code> <em>has to be</em> logical <code>FALSE</code> or <code>TRUE</code>.</li>
<li>The <code>&lt;action&gt;</code> is executed as long as the <code>&lt;condition&gt;</code> is <code>TRUE</code>.</li>
</ul>
<p><strong>WARNING:</strong> Take care of infinite loops! The following code chunk will run forever.</p>
<pre><code># Define x
x &lt;- 1
# Increase x by 1 as long as ...
while (x &lt; 0) {
  x &lt;- x + 1
}</code></pre>
<div style="text-align: center;">
<p><img src="images/04/04_flowchart_trap_xkcd.png" style="width: 30%;"></p>
</div>
<p>An example for a <code>while</code> loop: Print all numbers <code>x</code> in <span class="math inline">\(1, 2, ..., \infty\)</span> as long as <code>x^2</code> is lower than 20. Start with <code>x &lt;- 0</code>.</p>
<ul>
<li>Iteration 1: <span class="math inline">\(0^2 = 0\)</span> and thus lower than 20 (the condition is <code>TRUE</code>). At the end <code>x</code> is increased by <code>1</code> (<code>x &lt;- x + 1</code>) and the next iteration is started.</li>
<li>Iteration 2: <code>x</code> is now <code>1</code>, <span class="math inline">\(1^2 = 1\)</span> is still <code>&lt; 20</code> and the condition is still <code>TRUE</code>. Thus, increase <code>x</code> and continue.</li>
<li>Iteration 3: <code>x</code> is <code>2</code>, <span class="math inline">\(2^2 = 4\)</span>, <code>x^2 &lt; 20</code> is <code>TRUE</code>, increase <code>x</code>, continue.</li>
<li>Iteration 4: <code>x</code> is <code>3</code>, <span class="math inline">\(3^2 = 9\)</span>, <code>x^2 &lt; 20</code> is <code>TRUE</code>, increase <code>x</code>, continue.</li>
<li>Iteration 4: <code>x</code> is <code>4</code>, <span class="math inline">\(4^2 = 16\)</span>, <code>x^2 &lt; 20</code> is <code>TRUE</code>, increase <code>x</code>, continue.</li>
<li>Iteration 5: <code>x</code> is now <code>5</code>. As <span class="math inline">\(5^2 = 25\)</span> the condition <code>x^2 &lt; 20</code> is no longer <code>TRUE</code> and the <code>while</code> loop stops.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Start with 0</span>
x &lt;-<span class="st"> </span><span class="dv">0</span>
<span class="co"># Loop until condition is FALSE</span>
<span class="cf">while</span> (x<span class="op">^</span><span class="dv">2</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>) {
  <span class="kw">print</span>(x)      <span class="co"># Print x</span>
  x &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>    <span class="co"># Increase x by 1</span>
}</code></pre></div>
<pre><code>## [1] 0
## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
</div>
<div id="store-interim-results" class="section level2">
<h2><span class="header-section-number">9.11</span> Store Interim Results</h2>
<p>Often you would like to keep interim results (the values of the different iterations) rather than only having the one value at the very end of the loop. To do so we have to store the result of each iteration into a suitable object, e.g., a numeric vector.</p>
<p>An example: Let us try the following. We will start with an initial value of <code>1.0</code> and multiply it by <code>1.5</code> six times. We could write it as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="fl">1.0</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
  x &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span>
}
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>## [1] 11.39062</code></pre>
<p>And we can see that the result is <code>11.390625</code>. However, we might be interested in the interim steps (what is <code>1.0 * 1.5</code>, what is <code>1.0 * 1.5 * 1.5</code> and so far and so on).</p>
<p>To do so let’s create an empty numeric vector <code>x</code> of length <code>7</code> using <code>vector(&quot;numeric&quot;, 7)</code>. The exercise was to multiply <code>1.5</code> six times, however we also have to store our initial value on <code>x</code> wherefore we need <code>7</code> elements in our vector (and not <code>6</code>). This creates a vector containing <code>7</code> <code>0</code>s. On the first element (<code>x[1L]</code> we store our initial value <code>1.0</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">N &lt;-<span class="st"> </span><span class="dv">7</span>                    <span class="co"># Length of the vector</span>
x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, N) <span class="co"># Empty vector of length N</span>
x[1L] &lt;-<span class="st"> </span><span class="fl">1.0</span>              <span class="co"># Set the first element to 1.0</span>
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>## [1] 1 0 0 0 0 0 0</code></pre>
<p>In let’s write the <code>for</code> loop. The first element contains our initial value, thus we will loop over <code>i = 2:7</code> (<code>i in c(2, 3, 4, 5, 6, 7)</code>; which is <code>6</code> iterations). In each iteration we take the previous element of <code>x</code> (e.g., when <code>i = 2</code> we will use <code>x[i - 1] = x[1L]</code>; the first element), multiply this element with <code>1.5</code>, and directly store it on <code>x[i] = x[2L]</code>. In the next iteration we do the same but using <code>i = 3L</code> and so far and so on.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop over 2:N, store results in x</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>N) {
  x[i] &lt;-<span class="st"> </span>x[i <span class="op">-</span><span class="st"> </span>1L] <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span>
}
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>## [1]  1.00000  1.50000  2.25000  3.37500  5.06250  7.59375 11.39062</code></pre>
<p>But let us do this step-by-step. In a first step we defined ourself a vector <code>x</code> of length <code>7</code>. We can “visualize” this vector as follows:</p>
<div>
<p><img src="images/05/05_vector_subsetting1.png" style="width: 50%;"></p>
</div>
<p>By index, the first element of the vector is <code>x[1L]</code>, the second one <code>x[2L]</code> and so far and so on (<em>R</em> starts with 1, not 0). Given a second object <code>i = 1L</code> (a vector index) we can also rewrite this as follows:</p>
<div>
<p><img src="images/05/05_vector_subsetting2.png" style="width: 50%;"></p>
</div>
<p><code>x[i]</code> is the first element as <code>i = 1L</code>. The second element is <code>x[i + 1L]</code> as <code>i + 1L = 2L</code>, and the last one <code>x[i + 6L]</code> as we have <code>7</code> elements (<code>i + 6L = 7L</code>).</p>
<p>In our example (multiply <code>1.0</code> six times with <code>1.5</code>) we first define a vector of length <code>7</code> and set <code>x[1L]</code> to <code>1</code> which gives us the following numeric vector:</p>
<div>
<p><img src="images/05/05_vector_inter1.png" style="width: 50%;"></p>
</div>
<p>So far, not very impressive.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">N &lt;-<span class="st"> </span><span class="dv">7</span>                    <span class="co"># Length of the vector</span>
x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, N) <span class="co"># Empty vector of length N</span>
x[1L] &lt;-<span class="st"> </span><span class="fl">1.0</span>              <span class="co"># Set the first element to 1.0</span>
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>## [1] 1 0 0 0 0 0 0</code></pre>
<p>In the second step we write the <code>for</code> loop, looping over <code>i = 2:7</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">7</span>) { x[i] &lt;-<span class="st"> </span>x[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span> }</code></pre></div>
<p>In the first iteration of the <code>for</code> loop <code>i</code> is set to <code>2L</code>. Inside the loop we compute <code>x[i - 1] * 1.5</code> and directly store it on <code>x[i]</code>. Thus, we store <code>x[1L] * 1.5</code> on <code>x[2L]</code> (or <code>x[2L] &lt;- x[1L] * 1.5</code>).</p>
<div>
<p><img src="images/05/05_vector_inter2.png" style="width: 50%;"></p>
</div>
<div>
<p><img src="images/05/05_vector_inter3.png" style="width: 50%;"></p>
</div>
<p>In the next iteration <code>i</code> is set to <code>3L</code> and we store <code>x[3L] &lt;- x[2L] * 1.5</code> and so far ans so on …</p>
<div>
<p><img src="images/05/05_vector_inter4.png" style="width: 50%;"></p>
</div>
<div>
<p><img src="images/05/05_vector_inter5.png" style="width: 50%;"></p>
</div>
<p>… until we reach <code>x[7L] &lt;- x[6L] * 1.5</code>, the end of our loop.</p>
<div>
<p><img src="images/05/05_vector_inter6.png" style="width: 50%;"></p>
</div>
<p>At the end we have stored all the interim results on <code>x</code> which now looks as follows:</p>
<div>
<p><img src="images/05/05_vector_inter6.png" style="width: 50%;"></p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">7</span>) { x[i] &lt;-<span class="st"> </span>x[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span> }
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>## [1]  1.00000  1.50000  2.25000  3.37500  5.06250  7.59375 11.39062</code></pre>
<p>Another way to store interim results is to <code>append(...)</code>. <code>append(x, y)</code> simply appends <code>y</code> to <code>x</code> (identical to <code>c(x, y)</code>). This is especially required if we don’t know the final length of our object, in this case <code>x</code>. The following <code>while</code> loop does the following:</p>
<ul>
<li>Start with <code>x &lt;- 1</code>.</li>
<li>In each iteration set <code>x &lt;- x * 1.5</code>.</li>
<li>As long as <code>x &lt; 100</code> continue.</li>
</ul>
<p>As we are not looping over a fixed number of iterations (e.g., <code>for (i in 1:5)</code>) we do not know how many iterations will be necessary until <code>x &gt;= 100</code>. Thus, we have to store our results differently.</p>
<ul>
<li>Create a second object <code>res</code> and store the initial value on it (<code>res &lt;- x</code>).</li>
<li>In each iteration append the new <code>x</code> to <code>res</code>. This adds the new <code>x</code> at the end of <code>res</code> and increases the length of <code>res</code> by <code>1</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x   &lt;-<span class="st"> </span><span class="dv">1</span>  <span class="co"># Initial value of x: will be modified</span>
res &lt;-<span class="st"> </span>x  <span class="co"># Store initial value on &quot;res&quot;</span>
<span class="cf">while</span> (x <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>) {
  <span class="co"># Compute new x</span>
  x &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span>
  <span class="co"># Append new x to vector &quot;res&quot;</span>
  res &lt;-<span class="st"> </span><span class="kw">append</span>(res, x)
}
<span class="kw">print</span>(res)</code></pre></div>
<pre><code>##  [1]   1.00000   1.50000   2.25000   3.37500   5.06250   7.59375  11.39062
##  [8]  17.08594  25.62891  38.44336  57.66504  86.49756 129.74634</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">length</span>(res))</code></pre></div>
<pre><code>## [1] 13</code></pre>
<p>Our final object <code>res</code> is of length <code>13</code>. <code>12</code> iterations were required until <code>x</code> got <code>&gt;= 100</code> (<code>12</code> iterations but length <code>13</code> as we also stored our initial value on <code>res</code>).</p>
<p><strong>Note:</strong> if possible try to define your vector in advance (much faster). However, this is only possible if you know how many iterations will be required (e.g., in the <code>for</code> loop). If not, <code>append(...)</code> can be used.</p>
</div>
<div id="practical-session-2" class="section level2">
<h2><span class="header-section-number">9.12</span> Practical Session</h2>
<div id="exercise-1-arithmetic-mean" class="section level3">
<h3><span class="header-section-number">9.12.1</span> Exercise 1: Arithmetic mean</h3>
<p>Calculate the arithmetic mean over a sequence of random numeric values from a Gaussian distribution (<code>rnorm(...)</code>) using a <code>for</code> loop (without <code>sum(...)</code> and <code>mean(...)</code>).</p>
<p>The arithmetic mean is defined as: <span class="math inline">\(\bar{x} = \frac{1}{N} \sum_{i=1}^N \big(x_i\big)\)</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">100</span>)   <span class="co"># Fix random numbers</span>
x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">12</span>)  <span class="co"># Draw a set of random numbers</span>
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>##  [1] -0.50219235  0.13153117 -0.07891709  0.88678481  0.11697127
##  [6]  0.31863009 -0.58179068  0.71453271 -0.82525943 -0.35986213
## [11]  0.08988614  0.09627446</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># What is the mean of x?</span></code></pre></div>
</div>
<div id="exercise-2-conditional-for-loop" class="section level3">
<h3><span class="header-section-number">9.12.2</span> Exercise 2: Conditional for loop</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">7</span>)
x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">size =</span> <span class="dv">15</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>##  [1] -1  8 20 17 -4 -9  4 15 11 -3 13 -8 13 -3 11</code></pre>
<ol style="list-style-type: decimal">
<li>Write a <code>for</code> loop (do <em>not</em> hard-code <code>i in 1:15</code> which loops over the vector and divide all negative values by <code>5</code>.</li>
<li>Loop over the original vector <code>x</code> using a <code>for</code> loop. If an element is negative: overwrite it with the previous element in the vector (e.g., replace <code>-7</code> with <code>2</code>). Do the same but replace with next element.</li>
<li>What happens if you use different random numbers?</li>
</ol>
</div>
<div id="exercise-3-factorial" class="section level3">
<h3><span class="header-section-number">9.12.3</span> Exercise 3: Factorial</h3>
<p>In mathematics, the factorial of a positive integer <span class="math inline">\(n\)</span> (denoted by <span class="math inline">\(n!\)</span>) is the product all positive integers less than or equal to <span class="math inline">\(n\)</span> (and, by definition, <span class="math inline">\(0! = 1\)</span>).</p>
<ul>
<li>An example: <span class="math inline">\(3! = 1 \times 2 \times 3 = 6\)</span></li>
<li>Write a small function which takes one input argument <code>n</code> which returns <code>n!</code> using a <code>for</code> loop. Try the same using a <code>while</code> loop.</li>
</ul>
<p><strong>Hint:</strong> You may use a decreasing sequence, e.g., <code>i in 3:1</code>!</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="control-structures-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="matrices.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
